(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-person-person"],{"087d":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"uni-page-body[data-v-5fce2c4c]{font-size:14px}.forms .person-item[data-v-5fce2c4c],.forms .person-pic[data-v-5fce2c4c]{padding:%?26?% %?40?%;border-bottom:1px solid #f0eff5}.forms .person-item[data-v-5fce2c4c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.forms .person-item uni-label[data-v-5fce2c4c]{width:40%}.forms .person-item .uni-input-placeholder[data-v-5fce2c4c]{font-size:14px}.forms .person-pic[data-v-5fce2c4c]:last-child{border-bottom:0}.forms .person-pic .pic-list[data-v-5fce2c4c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.forms .person-pic .pic-list .uploadPic[data-v-5fce2c4c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border:1px solid #2f83ff;border-radius:%?10?%;background:rgba(4,167,234,.08);height:%?160?%;width:%?160?%;font-size:12px;color:#2f83ff;margin-top:%?30?%;margin-right:%?40?%}.forms .person-pic .pic-list .uploadPic .oldPic[data-v-5fce2c4c]{width:20px;height:20px;margin-bottom:%?16?%}.forms .person-pic .pic-list .uploadPic .newPic[data-v-5fce2c4c]{height:%?160?%;width:%?160?%}.forms .person-pic .pic-list .pic-item[data-v-5fce2c4c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;z-index:1;margin-top:15px;margin-right:20px}.forms .person-pic .pic-list .pic-item .item-pic[data-v-5fce2c4c]{width:80px;height:80px}.forms .person-pic .pic-list .shanchu-btn[data-v-5fce2c4c]{position:absolute;top:-7px;right:-7px;z-index:2;width:15px;height:15px}.btns[data-v-5fce2c4c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.btns .userInfo-btn[data-v-5fce2c4c]{background:#2f83ff;color:#fff;width:70%;margin:%?40?% 5% %?20?%;height:%?70?%;line-height:%?70?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-radius:%?10?%}.btns .product-btn[data-v-5fce2c4c]{border:1px solid #2f83ff;color:#2f83ff;width:70%;margin:%?20?% 5%;height:%?70?%;line-height:%?70?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-radius:%?10?%}",""])},"0bab":function(e,t,i){var n=i("087d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("035211c2",n,!0,{sourceMap:!1,shadowMode:!1})},"248e":function(e,t,i){"use strict";i.r(t);var n=i("8e18"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},"8e18":function(e,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(i("3400")),s=n(i("b735")),o=i("e2e7"),c={data:function(){return{Name:"",IDCard:"",IDCardPositive:"",IDCardNegative:"",QRCode:"",WeChat:"",Address:"",PhoneNumber2:"",BankCardNumber:"",isDisable:!1,userID:"",userInfo:{},isShow:!0,states:""}},onLoad:function(){this.userID=uni.getStorageSync("userId"),this.states=uni.getStorageSync("states")},onShow:function(){var e=this.states;this.showInfo(e)},methods:{zmPic:function(){var e=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(t){console.log("res",t);var i=t.tempFiles[0].size,n="";i>1024&&(n=i/1024*100/100),console.log("sizes",n),n>50?uni.getImageInfo({src:t.tempFilePaths[0],success:function(t){console.log("压缩前",t),console.log(t.width),console.log(t.height);var i=t.width,n=t.height,a=new Image;a.src=t.path;var s=document.createElement("canvas"),c=s.getContext("2d");s.width=i/8,s.height=n/8,console.log("后",s.width),console.log("后",s.height),c.drawImage(a,0,0,i/8,n/8),s.toBlob(function(t){var i=window.URL.createObjectURL(t);(0,o.pathToBase64)(i).then(function(t){var i=t;e.IDCardPositive=i}).catch(function(e){console.error(e)})})}}):(0,o.pathToBase64)(t.tempFilePaths[0]).then(function(t){var i=t;e.IDCardPositive=i,console.log(2)}).catch(function(e){console.error(e)})}})},fmPic:function(){var e=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(t){var i=t.tempFiles[0].size,n="";i>1024&&(n=i/1024*100/100),n>50?uni.getImageInfo({src:t.tempFilePaths[0],success:function(t){console.log("压缩前",t),console.log(t.width),console.log(t.height);var i=t.width,n=t.height,a=new Image;a.src=t.path;var s=document.createElement("canvas"),c=s.getContext("2d");s.width=i/8,s.height=n/8,console.log("后",s.width),console.log("后",s.height),c.drawImage(a,0,0,i/8,n/8),s.toBlob(function(t){var i=window.URL.createObjectURL(t);(0,o.pathToBase64)(i).then(function(t){var i=t;e.IDCardNegative=i}).catch(function(e){console.error(e)})})}}):(0,o.pathToBase64)(t.tempFilePaths[0]).then(function(t){var i=t;e.IDCardNegative=i,console.log(2)}).catch(function(e){console.error(e)})}})},ewm:function(){var e=this;uni.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(t){var i=t.tempFiles[0].size,n="";i>1024&&(n=i/1024*100/100),n>50?uni.getImageInfo({src:t.tempFilePaths[0],success:function(t){console.log("压缩前",t),console.log(t.width),console.log(t.height);var i=t.width,n=t.height,a=new Image;a.src=t.path;var s=document.createElement("canvas"),c=s.getContext("2d");s.width=i/8,s.height=n/8,console.log("后",s.width),console.log("后",s.height),c.drawImage(a,0,0,i/8,n/8),s.toBlob(function(t){var i=window.URL.createObjectURL(t);(0,o.pathToBase64)(i).then(function(t){var i=t;e.QRCode=i}).catch(function(e){console.error(e)})})}}):(0,o.pathToBase64)(t.tempFilePaths[0]).then(function(t){var i=t;e.QRCode=i,console.log(2)}).catch(function(e){console.error(e)})}})},showInfo:function(e){var t=this,i=this.userID;e=e;if(console.log("idss",i),console.log("statesss",e),"已提交"==e&&""!=i){var n={ID:this.userID};uni.request({url:a.default.url+"Personal/GetPersonalInfo",header:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},data:s.default.stringify(n),method:"POST",success:function(e){console.log("人员信息",e);var i="http://110.fonery.cn:8025",n=e.data.data;t.Name=n.Name,t.IDCard=n.IDCard,t.IDCardPositive=i+n.IDCardPositive,t.IDCardNegative=i+n.IDCardNegative,t.QRCode=i+n.QRCode,t.WeChat=n.WeChat,t.Address=n.Address,t.BankCardNumber=n.BankCardNumber,t.PhoneNumber2=n.PhoneNumber2}}),this.isShow=!1}else this.Name="",this.IDCard="",this.IDCardPositive="",this.IDCardNegative="",this.QRCode="",this.WeChat="",this.Address="",this.BankCardNumber="",this.PhoneNumber2=""},subProduct:function(){uni.navigateTo({url:"../product/product"})},subInfo:function(){var e=this,t=uni.getStorageSync("userId"),i=e.Name,n=e.IDCard,o=e.WeChat,c=e.Address,l=e.PhoneNumber2,r=e.BankCardNumber,d=e.IDCardPositive,u=e.IDCardNegative,f=e.QRCode;if(""==i)uni.showToast({title:"姓名不能为空",icon:"none"});else if(""==n)uni.showToast({title:"身份证号不能为空",icon:"none"});else if(""==o)uni.showToast({title:"微信号不能为空",icon:"none"});else if(""==l)uni.showToast({title:"手机不能为空",icon:"none"});else if(""==c)uni.showToast({title:"地址不能为空",icon:"none"});else if(""==r)uni.showToast({title:"银行卡号不能为空",icon:"none"});else if(""==d)uni.showToast({title:"身份证正面不能为空",icon:"none"});else if(""==u)uni.showToast({title:"身份证反面不能为空",icon:"none"});else if(""==f)uni.showToast({title:"二维码不能为空",icon:"none"});else{e.isDisable=!0,uni.showLoading({title:"提交中"});var p={ID:t,Name:i,IDCard:n,WeChat:o,Address:c,PhoneNumber2:l,BankCardNumber:r,IDCardPositive:d,IDCardNegative:u,QRCode:f};uni.request({url:a.default.url+"Personal/SavePersonalInfo",header:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},data:s.default.stringify(p),method:"POST",success:function(t){uni.hideLoading(),console.log("个人信息",t),1==t.data.Success?(uni.showToast({title:"提交成功"}),e.isDisable=!1,e.states=t.data.ReturnString,uni.setStorageSync("states",t.data.ReturnString),e.showInfo(e.states)):uni.showToast({title:t.data.Message})}}),console.log("data",p)}}}};t.default=c},c5fa:function(e,t,i){"use strict";var n=i("0bab"),a=i.n(n);a.a},ce18:function(e,t,i){"use strict";i.r(t);var n=i("f77c"),a=i("248e");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("c5fa");var o=i("2877"),c=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"5fce2c4c",null);t["default"]=c.exports},f77c:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"forms"},[i("v-uni-view",{staticClass:"person-item"},[i("v-uni-label",[e._v("姓名")]),i("v-uni-input",{attrs:{type:"text",placeholder:"填写姓名"},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1),i("v-uni-view",{staticClass:"person-item"},[i("v-uni-label",[e._v("身份证号")]),i("v-uni-input",{attrs:{type:"text",placeholder:"填写身份证号"},model:{value:e.IDCard,callback:function(t){e.IDCard=t},expression:"IDCard"}})],1),i("v-uni-view",{staticClass:"person-pic"},[i("v-uni-view",{staticClass:"pic-title"},[e._v("上传身份证照片")]),i("v-uni-view",{staticClass:"pic-list"},[""!=e.IDCardPositive?i("v-uni-view",{staticClass:"uploadPic",on:{click:function(t){t=e.$handleEvent(t),e.zmPic(t)}}},[i("v-uni-image",{staticClass:"newPic",attrs:{src:e.IDCardPositive,mode:"aspectFill"}})],1):i("v-uni-view",{staticClass:"uploadPic",on:{click:function(t){t=e.$handleEvent(t),e.zmPic(t)}}},[i("v-uni-image",{staticClass:"oldPic",attrs:{src:"../../static/photo.png",mode:"aspectFill"}}),i("v-uni-text",[e._v("上传正面照片")])],1),""!=e.IDCardNegative?i("v-uni-view",{staticClass:"uploadPic",on:{click:function(t){t=e.$handleEvent(t),e.fmPic(t)}}},[i("v-uni-image",{staticClass:"newPic",attrs:{src:e.IDCardNegative,mode:"aspectFill"}})],1):i("v-uni-view",{staticClass:"uploadPic",on:{click:function(t){t=e.$handleEvent(t),e.fmPic(t)}}},[i("v-uni-image",{staticClass:"oldPic",attrs:{src:"../../static/photo.png",mode:"aspectFill"}}),i("v-uni-text",[e._v("上传反面照片")])],1),""!=e.QRCode?i("v-uni-view",{staticClass:"uploadPic",on:{click:function(t){t=e.$handleEvent(t),e.ewm(t)}}},[i("v-uni-image",{staticClass:"newPic",attrs:{src:e.QRCode,mode:"aspectFill"}})],1):i("v-uni-view",{staticClass:"uploadPic",on:{click:function(t){t=e.$handleEvent(t),e.ewm(t)}}},[i("v-uni-image",{staticClass:"oldPic",attrs:{src:"../../static/photo.png",mode:"aspectFill"}}),i("v-uni-text",[e._v("上传二维码")])],1)],1)],1),i("v-uni-view",{staticClass:"person-item"},[i("v-uni-label",[e._v("微信号")]),i("v-uni-input",{attrs:{type:"text",placeholder:"填写微信号"},model:{value:e.WeChat,callback:function(t){e.WeChat=t},expression:"WeChat"}})],1),i("v-uni-view",{staticClass:"person-item"},[i("v-uni-label",[e._v("手机号")]),i("v-uni-input",{attrs:{type:"text",placeholder:"填写手机号"},model:{value:e.PhoneNumber2,callback:function(t){e.PhoneNumber2=t},expression:"PhoneNumber2"}})],1),i("v-uni-view",{staticClass:"person-item"},[i("v-uni-label",[e._v("地址")]),i("v-uni-input",{attrs:{type:"text",placeholder:"填写地址"},model:{value:e.Address,callback:function(t){e.Address=t},expression:"Address"}})],1),i("v-uni-view",{staticClass:"person-item"},[i("v-uni-label",[e._v("银行卡号")]),i("v-uni-input",{attrs:{type:"text",placeholder:"填写银行卡号"},model:{value:e.BankCardNumber,callback:function(t){e.BankCardNumber=t},expression:"BankCardNumber"}})],1)],1),i("v-uni-view",{staticClass:"btns"},[e.isShow?i("v-uni-view",{staticClass:"userInfo-btn",attrs:{disabled:e.isDisable},on:{click:function(t){t=e.$handleEvent(t),e.subInfo(t)}}},[e._v("保存")]):e._e(),i("v-uni-view",{staticClass:"product-btn",on:{click:function(t){t=e.$handleEvent(t),e.subProduct(t)}}},[e._v("新增产品")])],1)],1)},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})}}]);